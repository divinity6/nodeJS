## Auth

- Authentication( 인증 )이 무엇인가
  - 다른 언어나 프레임워크에서도 인증은 같은 방식으로 이루어진다
  - 자격증명을 저장하고 활용하는 방법
  - 라우트 접근을 차단하는 방법( 서버측 권한 체크 )

---

### What is Authentication?

- 인증이란 무엇인가


- 인증에서 중요한것은 해당 어플리케이션 사용자가 모든 액션을 사용할 수 있는것이 아니라는 것이다
  - 사용자 : 로그인을 마친사용자가 아닌, 단순히 페이지를 방문하는 사람


- 로그인하지 않은 사용자가 사용할 수 없는 액션들이 존재한다


- 로그인하지 않은 익명의 사용자와 로그인한 사용자를 구별할 수 있어야 한다

---

### How is Authentication Implemented?

- 보통 사용자가 서버에 로그인 요청을 보낸다


- 서버에서는 해당 사용자정보의 validation 체크를 수행한후, 데이터베이스에서 체크한다


- 해당 사용자가 존재한다면, Session 을 생성하고, 세션에서 사용자를 저장하게 된다


- 세션이 없다면, 자격증명이 유효하다 해도, 요청후 다음 요청에 바로 로그아웃 될 것이다
  - ( 요청이 단독적으로 실행되어 다음 요청을 알지 못하기 때문에 세션을 통해 요청을 연결한다 )
  - 따라서, 사용자나 인증 정보에 대한 세션을 생성해야 한다


- 이후, 200 성공 응답을 보내며, 세션과 함께 응답 Cookie 를 클라이언트에 저장하면 세션이 구축된다


- 그후, 사용자가 제한된 라우트에도 방문할 수 있게 된다. 


- 모든 요청과 쿠키가 함께 발송되는데, 서버에서 쿠키와 세션을 연결해 세션에서 사용자 로그인 여부를 확인할 수 있다


- 이 방식이 세션에 기반한 인증방식이다